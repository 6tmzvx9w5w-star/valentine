<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Valentinstag</title>

  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background:
        radial-gradient(circle at 20% 10%, rgba(255,173,205,.6), transparent 45%),
        radial-gradient(circle at 80% 30%, rgba(255,225,140,.55), transparent 40%),
        linear-gradient(180deg,#fff7fb,#fff0f6);
      color:#1b1b1b;
    }

    .card{
      width:min(560px,calc(100vw - 32px));
      background:rgba(255,255,255,.9);
      border-radius:24px;
      padding:28px 22px;
      box-shadow:0 18px 60px rgba(0,0,0,.12);
      text-align:center;
      position:relative;
      transition:opacity 200ms ease;
    }

    h1{margin:0 0 10px;font-size:clamp(24px,4vw,36px);}
    p{margin:0 0 18px;font-size:16px;opacity:.85;}

    .stage{
      position:relative;
      height:180px;
      border-radius:18px;
      background:rgba(255,227,236,.55);
      margin-top:14px;
    }

    button{
      border:0;
      cursor:pointer;
      padding:12px 18px;
      border-radius:14px;
      position:absolute;
      user-select:none;
      touch-action:manipulation;
      box-shadow:0 10px 24px rgba(0,0,0,.12);
      transition:transform 260ms ease,opacity 260ms ease;
    }

    #yesBtn{
      left:50%;
      top:58%;
      transform:translate(-110%,-50%) scale(1);
      background:#ff3b7a;
      color:#fff;
      font-size:18px;
    }

    #noBtn{
      font-size:12px;
      padding:6px 8px;
      background:#fff;
      border:2px solid rgba(0,0,0,.12);
      border-radius:12px;
      z-index:9999;
    }

    .msg{margin-top:14px;min-height:22px;font-weight:700;}
    .hint{margin-top:6px;font-size:13px;opacity:.65;}

    /* YES fullscreen */
    #yesBtn.fullscreen{
      position:fixed;
      inset:0;
      width:100vw;
      height:100vh;
      border-radius:0;
      transform:none !important;
      box-shadow:none;
      font-size:clamp(52px,10vw,110px);
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:18px;
      z-index:99999;
    }

    .yes-sub{
      font-size:clamp(14px,4vw,18px);
      opacity:.85;
      font-weight:500;
      padding: 0 14px;
      text-align:center;
    }

    /* Scene overlay */
    .overlay{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      background:rgba(255,240,246,.86);
      backdrop-filter:blur(6px);
      z-index:100000;
      padding: 16px;
    }
    .overlay.show{display:grid;}

    .overlay-card{
      width:min(680px,calc(100vw - 28px));
      background:rgba(255,255,255,.92);
      border-radius:26px;
      padding:22px 20px;
      text-align:center;
      box-shadow:0 18px 70px rgba(0,0,0,.16);
    }

    .love{
      font-weight:900;
      font-size:clamp(30px,6vw,56px);
      margin:6px 0 10px;
    }

    .gif-wrap{
      border-radius:18px;
      overflow:hidden;
      margin:14px 0;
      background: rgba(255,227,236,.55);
      box-shadow: 0 16px 50px rgba(0,0,0,.12);
    }

    .gif-wrap img{
      width:min(520px,92vw);
      display:block;
      height:auto;
    }

    .after-text{
      margin-top:10px;
      font-size:18px;
      font-weight:600;
      opacity:.92;
      line-height: 1.35;
    }

    .next-btn{
      position:static;
      margin-top: 14px;
      background:#ff3b7a;
      color:#fff;
      font-size:16px;
      padding:12px 16px;
      border-radius:14px;
      box-shadow:0 10px 24px rgba(0,0,0,.12);
    }
  </style>
</head>

<body>
  <div class="card" id="card">
    <h1 id="headline"></h1>
    <p id="subline">I made this just for you ðŸ’—</p>

    <div class="stage">
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </div>

    <div class="msg" id="msg"></div>
    <div class="hint" id="hint"></div>
  </div>

  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="overlay-card">
      <div class="love" id="sceneTitle"></div>

      <div class="gif-wrap">
        <img id="sceneGif" src="cat1.gif" alt="scene gif">
      </div>

      <div class="after-text" id="sceneText"></div>

      <button id="nextBtn" class="next-btn" type="button">Next</button>
    </div>
  </div>

  <script>
    const name = "Subina";

    const headline = document.getElementById("headline");
    const subline = document.getElementById("subline");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const msg = document.getElementById("msg");
    const hint = document.getElementById("hint");
    const card = document.getElementById("card");

    const overlay = document.getElementById("overlay");
    const sceneTitle = document.getElementById("sceneTitle");
    const sceneGif = document.getElementById("sceneGif");
    const sceneText = document.getElementById("sceneText");
    const nextBtn = document.getElementById("nextBtn");

    headline.textContent = `${name}, do you wanna be my valentines date? ðŸ‘‰ðŸ‘ˆðŸ¥¹`;

    function rand(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }

    // ---- NO logic: slow move + shrink; YES grows ----
    let noScale = 1;
    let yesScale = 1;
    let clicks = 0;
    const maxClicks = 5;
    let moveTimer;

    function placeNo(){
      const r = noBtn.getBoundingClientRect();
      const pad = 20;
      noBtn.style.left = rand(pad, window.innerWidth - r.width - pad) + "px";
      noBtn.style.top  = rand(pad, window.innerHeight - r.height - pad) + "px";
    }

    function startNo(){
      noBtn.style.position = "fixed";
      placeNo();
      moveTimer = setInterval(placeNo, 1400);
    }

    function handleNo(){
      clicks++;
      noScale -= 0.18;
      yesScale += 0.35;

      noBtn.style.transform = `scale(${Math.max(noScale,0)})`;
      yesBtn.style.transform = `translate(-110%,-50%) scale(${yesScale})`;

      if(clicks >= maxClicks){
        clearInterval(moveTimer);
        noBtn.style.opacity = "0";
        noBtn.style.pointerEvents = "none";
        msg.textContent = "Okayâ€¦ No is gone.";
        hint.textContent = "Tap Yes ðŸ˜Œ";
        setTimeout(()=> noBtn.style.display="none",300);
      }
    }

    noBtn.addEventListener("click", e => { e.preventDefault(); handleNo(); });
    noBtn.addEventListener("touchstart", e => { e.preventDefault(); handleNo(); }, { passive:false });

    startNo();
    hint.textContent = "You can try Noâ€¦ but it wonâ€™t last.";

    // ---- Scenes ----
    let scene = 0;

    function showScene1(){
      scene = 1;
      overlay.classList.add("show");
      overlay.setAttribute("aria-hidden", "false");

      sceneTitle.textContent = `YIPPEE ðŸ’—`;
      sceneGif.src = "cat1.gif";
      sceneGif.alt = "yippee cat";
      sceneText.innerHTML = `Now you are my Valentine ðŸ’—<br>and we will have a date ðŸ˜Œ`;
      nextBtn.style.display = "inline-block";
      nextBtn.textContent = "Next";
    }

    function showScene2(){
      scene = 2;
      sceneTitle.textContent = `HAPPY DANCE ðŸ¥³`;
      sceneGif.src = "cat2.gif";
      sceneGif.alt = "happy dance";
      sceneText.textContent = `Okay, thatâ€™s it. Iâ€™m officially excited.`;
      nextBtn.style.display = "none"; // Ende
    }

    // YES click -> fullscreen YES first, then scene 1
    yesBtn.addEventListener("click", () => {
      // Step 1: Fullscreen YES (still requires the click)
      yesBtn.classList.add("fullscreen");
      yesBtn.innerHTML = `YES ðŸ’—<div class="yes-sub">Seems like this has to be your answer.</div>`;
      card.style.opacity = ".1";

      // Step 2: Scene 1 appears after a short pause (no extra click needed)
      setTimeout(() => {
        showScene1();
      }, 700);
    });

    // Next click -> Scene 2
    nextBtn.addEventListener("click", () => {
      if (scene === 1) showScene2();
    });
  </script>
</body>
</html>
